{"version":3,"sources":["webpack:///webpack/bootstrap ccbcfc513c8f99adcc6e","webpack:///./cellular_automata.js","webpack:///./lib/game.js","webpack:///./lib/grid.js","webpack:///./lib/viewport.js","webpack:///./lib/cell.js","webpack:///./lib/structures/structures.js","webpack:///./lib/structures/block.js","webpack:///./lib/structures/structure.js","webpack:///./lib/utils.js","webpack:///./lib/structures/blinker.js","webpack:///./lib/structures/cross.js","webpack:///./lib/structures/koks_galaxy.js","webpack:///./lib/structures/glider.js","webpack:///./lib/structures/r_pentomino.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACbD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAuB,yBAAyB;;AAEhD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACnDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B,oBAAoB;AAClD,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;;;;;;;AC3EA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAmB,wBAAwB;AAC3C,sBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;;;;;;;AC5CA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CAA8C,gBAAgB;;AAE9D;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA,kBAAiB,iBAAiB;AAClC,oBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAiB,4BAA4B;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ccbcfc513c8f99adcc6e\n **/","var Game = require('./lib/game');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  var canvasEl = document.getElementById('canvas');\n  var ctx = canvasEl.getContext('2d');\n  window.game = new Game(ctx);\n\n  // window.game.addStructure('Block', [22,22]);\n  // window.game.addStructure('Cross', [-3,-3]);\n  // window.game.addStructure('Blinker', [39,42]);\n  // window.game.addStructure('KoksGalaxy', [49,49]);\n  // window.game.addStructure('Glider', [34,5]);\n  window.game.addStructure('RPentomino', [20,20]);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cellular_automata.js\n ** module id = 0\n ** module chunks = 0\n **/","var Grid = require('./grid');\nvar Viewport = require('./viewport');\nvar Structures = require('./structures/structures');\n\nvar Game = function(ctx) {\n  this.ctx = ctx;\n  this.grid = new Grid();\n  this.viewport = new Viewport(this.grid, this.ctx);\n\n  this.playing = false;\n  this.speed = 1000;\n\n  this.cycle();\n};\n\nGame.prototype.cycle = function () {\n  var cycleStart = new Date().getTime();\n\n  this.render(cycleStart);\n};\n\nGame.prototype.render = function (cycleStart) {\n  var currentTime = new Date().getTime() - cycleStart;\n  var percentage = currentTime / this.speed;\n\n  if (percentage >= 1) {\n    percentage %= 1;\n    cycleStart += this.speed;\n\n    if (this.playing) { this.grid.toggleCells(); }\n\n    this.viewport.setCellStates();\n  }\n\n  this.viewport.render(percentage);\n\n  requestAnimationFrame(this.render.bind(this, cycleStart));\n};\n\nGame.prototype.togglePlayState = function () {\n  this.playing = !this.playing;\n};\n\nGame.prototype.setSpeed = function (newSpeed) {\n  this.speed = newSpeed;\n};\n\nGame.prototype.addStructure = function (structureName, pos, rotation) {\n  new Structures[structureName](this.grid, pos, rotation);\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Grid = function() {\n  this.neighborCounts = {};\n  this.livingCells = new Set;\n};\n\nGrid.NEIGHBOR_DELTAS = [\n  [-1, -1],\n  [-1,  0],\n  [-1,  1],\n  [ 0, -1],\n  [ 0,  1],\n  [ 1, -1],\n  [ 1,  0],\n  [ 1,  1]\n];\n\nGrid.prototype.toggleCells = function (ctx) {\n  var self = this;\n\n  this.livingCells.forEach(function(posKey){\n    var pos = posKey.split(','),\n        row = parseInt(pos[0]),\n        col = parseInt(pos[1]);\n\n    self.incrementNeighbors(row, col);\n  });\n\n  var newSet = new Set;\n\n  Object.keys(this.neighborCounts).forEach(function(posKey){\n    var neighborCount = self.neighborCounts[posKey];\n\n    if (neighborCount === 2 && self.livingCells.has(posKey)) {\n      newSet.add(posKey);\n    }\n    if (neighborCount === 3) { newSet.add(posKey); }\n  });\n\n  this.livingCells = newSet;\n  this.neighborCounts = {};\n};\n\nGrid.prototype.incrementNeighbors = function (row, col) {\n  var self = this;\n\n  Grid.NEIGHBOR_DELTAS.forEach(function(delta) {\n    var x = delta[0] + row,\n        y = delta[1] + col,\n        posKey = [x,y].join(',');\n\n    self.neighborCounts[posKey] = self.neighborCounts[posKey] || 0;\n    self.neighborCounts[posKey] += 1;\n  });\n};\n\nGrid.prototype.awakenCells = function (cells) {\n  var self = this;\n\n  cells.forEach(function(cellPos) {\n    self.livingCells.add(cellPos.join(','));\n  });\n};\n\nGrid.prototype.killCells = function (cells) {\n  var self = this;\n\n  cells.forEach(function(cellPos) {\n    self.livingCells.delete(cellPos.join(','));\n  });\n};\n\nGrid.prototype.alive = function (pos) {\n  return this.livingCells.has(pos.join(','));\n};\n\nmodule.exports = Grid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/grid.js\n ** module id = 2\n ** module chunks = 0\n **/","var Cell = require('./cell');\n\nvar Viewport = function(grid, ctx) {\n  this.grid = grid;\n  this.ctx = ctx;\n\n  this.displaySize = 80;\n  this.cells = [];\n\n  this.generateCells();\n};\n\nViewport.prototype.generateCells = function () {\n  for (var row = 0; row < this.displaySize; row++) {\n    for (var col = 0; col < this.displaySize; col++) {\n      this.cells.push(new Cell(row, col));\n    }\n  }\n};\n\nViewport.prototype.render = function (percentage) {\n  this.clear();\n\n  this.cells.forEach(function(cell){\n    cell.renderOrb(this.ctx, percentage);\n  }.bind(this));\n};\n\nViewport.prototype.clear = function () {\n  var width = this.ctx.canvas.width,\n      height = this.ctx.canvas.height;\n\n  this.ctx.fillStyle = 'black';\n  this.ctx.fillRect(0, 0, width, height);\n};\n\nViewport.prototype.setCellStates = function () {\n  this.cells.forEach(function(cell){\n    var liveState = this.grid.alive([cell.row, cell.col]);\n\n    cell.receiveLiveState(liveState);\n  }.bind(this));\n};\n\nmodule.exports = Viewport;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/viewport.js\n ** module id = 3\n ** module chunks = 0\n **/","var Cell = function(row, col) {\n  this.size = 10;\n\n  this.row = row;\n  this.col = col;\n\n  this.alive = false;\n};\n\nCell.prototype.renderChecker = function (ctx) {\n  var color = this.alive ? 'black' : 'yellow';\n\n  ctx.fillStyle = color;\n\n  ctx.fillRect(\n    this.row * this.size,\n    this.col * this.size,\n    this.size,\n    this.size\n  );\n\n  ctx.strokeStyle = \"gray\";\n  ctx.lineWidth   = 1;\n  ctx.strokeRect(\n    this.row * this.size,\n    this.col * this.size,\n    this.size,\n    this.size\n  );\n};\n\nCell.prototype.renderOrb = function (ctx, percentage) {\n  if (percentage > 1 || !this.transitioning) { percentage = 1; }\n\n  var transitionModifier = this.alive ? percentage : 1 - percentage;\n\n  var displayRadius = this.size / 2 * transitionModifier;\n  var alpha = transitionModifier;\n\n  var radius = this.size / 2;\n  var xPos = this.row * this.size + (radius);\n  var yPos = this.col * this.size + (radius);\n\n  var gradient = ctx.createRadialGradient(\n    xPos,\n    yPos,\n    displayRadius,\n    xPos,\n    yPos,\n    0\n  );\n  gradient.addColorStop(0, \"black\");\n  gradient.addColorStop(1, \"rgba(8, 146, 208, \" + alpha + \")\");\n\n  ctx.beginPath();\n  ctx.arc(xPos, yPos, radius, 0, 2*Math.PI);\n  ctx.fillStyle = gradient;\n  ctx.fill();\n};\n\nCell.prototype.receiveLiveState = function (liveState) {\n  this.transitioning = liveState !== this.alive;\n  this.alive = liveState;\n};\n\nmodule.exports = Cell;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cell.js\n ** module id = 4\n ** module chunks = 0\n **/","var Block = require('./block'),\n    Blinker = require('./blinker'),\n    Cross = require('./cross'),\n    KoksGalaxy = require('./koks_galaxy'),\n    Glider = require('./glider'),\n    RPentomino = require('./r_pentomino');\n\nvar Structures = {\n  Block: Block,\n  Blinker: Blinker,\n  Cross: Cross,\n  KoksGalaxy: KoksGalaxy,\n  Glider: Glider,\n  RPentomino: RPentomino\n};\n\nmodule.exports = Structures;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/structures.js\n ** module id = 5\n ** module chunks = 0\n **/","var Structure = require('./structure'),\n    Util = require('../utils');\n\nvar Block = function(grid, startPos, rotationCount) {\n  Structure.call(this, Block.OPTIONS, rotationCount);\n\n  this.render(grid, startPos);\n};\n\nUtil.inherits(Block, Structure);\n\nBlock.OPTIONS = {\n  height: 4,\n  width : 4,\n  liveCellDeltas : [\n    [1,1],\n    [1,2],\n    [2,1],\n    [2,2]\n  ]\n};\n\nmodule.exports = Block;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/block.js\n ** module id = 6\n ** module chunks = 0\n **/","var Structure = function(options, rotationCount) {\n  this.height = options.height;\n  this.width = options.width;\n  this.liveCellDeltas = options.liveCellDeltas;\n\n  this.rotationCount = rotationCount || 0;\n};\n\nStructure.prototype.render = function (grid, startPos) {\n  this.rotate();\n  this.clearArea(grid, startPos);\n\n  var positions = this.liveCellDeltas.map(function(delta){\n    return [startPos[0] + delta[0], startPos[1] + delta[1]];\n  });\n\n  grid.awakenCells(positions);\n};\n\nStructure.prototype.clearArea = function (grid, startPos) {\n  var targetCells = [];\n\n  for (var y = 0; y < this.height; y++) {\n    for (var x = 0; x < this.width; x++) {\n      targetCells.push([startPos[0] + x, startPos[1] + y]);\n    }\n  }\n\n  grid.killCells(targetCells);\n};\n\nStructure.prototype.rotate = function () {\n  for (var i = 0; i < this.rotationCount % 4; i++) {\n    this.rotateNinetyDegrees();\n  }\n};\n\nStructure.prototype.rotateNinetyDegrees = function () {\n  var temp = this.height;\n  this.height = this.width;\n  this.width = temp;\n\n  var offset = this.height - 1;\n\n  this.liveCellDeltas = this.liveCellDeltas.map(function(delta){\n    return [delta[1], (delta[0] * -1) + offset];\n  });\n};\n\nmodule.exports = Structure;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/structure.js\n ** module id = 7\n ** module chunks = 0\n **/","var Util = {\n  inherits: function (ChildClass, ParentClass) {\n    function Surrogate () {}\n    Surrogate.prototype = ParentClass.prototype;\n    ChildClass.prototype = new Surrogate();\n    ChildClass.prototype.constructor = ChildClass;\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/utils.js\n ** module id = 8\n ** module chunks = 0\n **/","var Structure = require('./structure'),\n    Util = require('../utils');\n\nvar Blinker = function(grid, startPos, rotationCount) {\n  Structure.call(this, Blinker.OPTIONS, rotationCount);\n\n  this.render(grid, startPos);\n};\n\nUtil.inherits(Blinker, Structure);\n\nBlinker.OPTIONS = {\n  height: 5,\n  width : 3,\n  liveCellDeltas : [\n    [1,1],\n    [1,2],\n    [1,3]\n  ]\n};\n\nmodule.exports = Blinker;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/blinker.js\n ** module id = 9\n ** module chunks = 0\n **/","var Structure = require('./structure'),\n    Util = require('../utils');\n\nvar Cross = function(grid, startPos, rotationCount) {\n  Structure.call(this, Cross.OPTIONS, rotationCount);\n\n  this.render(grid, startPos);\n};\n\nUtil.inherits(Cross, Structure);\n\nCross.OPTIONS = {\n  height: 10,\n  width : 10,\n  liveCellDeltas : [\n    [1, 3],\n    [1, 4],\n    [1, 5],\n    [1, 6],\n    [2, 3],\n    [2, 6],\n    [3, 1],\n    [3, 2],\n    [3, 3],\n    [3, 6],\n    [3, 7],\n    [3, 8],\n    [4, 1],\n    [4, 8],\n    [5, 1],\n    [5, 8],\n    [6, 1],\n    [6, 2],\n    [6, 3],\n    [6, 6],\n    [6, 7],\n    [6, 8],\n    [7, 3],\n    [7, 6],\n    [8, 3],\n    [8, 4],\n    [8, 5],\n    [8, 6]\n  ]\n};\n\nmodule.exports = Cross;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/cross.js\n ** module id = 10\n ** module chunks = 0\n **/","var Structure = require('./structure'),\n    Util = require('../utils');\n\nvar KoksGalaxy = function(grid, startPos, rotationCount) {\n  Structure.call(this, KoksGalaxy.OPTIONS, rotationCount);\n\n  this.render(grid, startPos);\n};\n\nUtil.inherits(KoksGalaxy, Structure);\n\nKoksGalaxy.OPTIONS = {\n  height: 11,\n  width : 11,\n  liveCellDeltas : [\n\n    [1, 1],\n    [1, 2],\n    [1, 3],\n    [1, 4],\n    [1, 5],\n    [1, 6],\n    [2, 1],\n    [2, 2],\n    [2, 3],\n    [2, 4],\n    [2, 5],\n    [2, 6],\n\n    [1, 8],\n    [2, 8],\n    [3, 8],\n    [4, 8],\n    [5, 8],\n    [6, 8],\n    [1, 9],\n    [2, 9],\n    [3, 9],\n    [4, 9],\n    [5, 9],\n    [6, 9],\n\n    [8, 4],\n    [8, 5],\n    [8, 6],\n    [8, 7],\n    [8, 8],\n    [8, 9],\n    [9, 4],\n    [9, 5],\n    [9, 6],\n    [9, 7],\n    [9, 8],\n    [9, 9],\n\n    [4, 1],\n    [5, 1],\n    [6, 1],\n    [7, 1],\n    [8, 1],\n    [9, 1],\n    [4, 2],\n    [5, 2],\n    [6, 2],\n    [7, 2],\n    [8, 2],\n    [9, 2]\n  ]\n};\n\nmodule.exports = KoksGalaxy;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/koks_galaxy.js\n ** module id = 11\n ** module chunks = 0\n **/","var Structure = require('./structure'),\n    Util = require('../utils');\n\nvar Glider = function(grid, startPos, rotationCount) {\n  Structure.call(this, Glider.OPTIONS, rotationCount);\n\n  this.render(grid, startPos);\n};\n\nUtil.inherits(Glider, Structure);\n\nGlider.OPTIONS = {\n  height: 5,\n  width : 5,\n  liveCellDeltas : [\n    [1, 3],\n    [2, 1],\n    [2, 3],\n    [3, 2],\n    [3, 3]\n  ]\n};\n\nmodule.exports = Glider;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/glider.js\n ** module id = 12\n ** module chunks = 0\n **/","var Structure = require('./structure'),\n    Util = require('../utils');\n\nvar RPentomino = function(grid, startPos, rotationCount) {\n  Structure.call(this, RPentomino.OPTIONS, rotationCount);\n\n  this.render(grid, startPos);\n};\n\nUtil.inherits(RPentomino, Structure);\n\nRPentomino.OPTIONS = {\n  height: 5,\n  width : 5,\n  liveCellDeltas : [\n    [1, 2],\n    [1, 3],\n    [2, 1],\n    [2, 2],\n    [3, 2]\n  ]\n};\n\nmodule.exports = RPentomino;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/structures/r_pentomino.js\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}